include methods

block append link
    link(rel='stylesheet', href= url_for("/style/widget-post-list.css"))

article.post-container.is-flex.is-justify-content-center.section.container.is-max-widescreen.pt-4.px-4
        div.columns.is-variable.is-1-tablet.is-3-desktop-only.is-2-widescreen
            section.column
                if page.posts.length > 0
                    each post in page.posts.sort('date', -1).toArray()
                        - var postURL = url_for(post.path)
                        - var imgURL = getPostCoverImg(post)
                        article.post-item-card
                            if imgURL
                                header.is-relative.is-flex
                                    div.post-cover-backdrop.is-hidden
                                        img(src= imgURL alt="loading..")
                                    a.post-cover-link.has-text-centered(href= postURL)
                                        img.post-cover-img.js-progressive-loading(src= imgURL alt="loading..", data-backdrop= true)
                            section.content.post-card-content.p-4.pb-5
                                if post.tags && post.tags.length > 0
                                    header
                                            each tag in post.tags.toArray()
                                                a(href= url_for(`/tags/${tag.name}`))
                                                    i.tag.post-item-tag= tag.name
                                if post.title
                                    h2.mt-4.mb-0.is-family-serif
                                        a(href= postURL)= post.title
                                if post.date
                                    time.has-text-grey(datetime=post.date.toJSON())= date(post.date, date_format)
                                p.is-flex-grow-2.mt-2= truncate(strip_html(post.content), {length: 360, omission: '..'})
                                a.tag.read-more-btn.is-medium.mt-2(href= postURL) Read more

                    section.paginator.is-flex.is-justify-content-flex-end!= paginator()
            aside.column.is-hidden-mobile.is-4-tablet.is-3-widescreen
                block sidebar
